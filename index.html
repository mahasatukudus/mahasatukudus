<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Pembelajaran - Mata Pelajaran & Bab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .subject-card {
            transition: all 0.3s ease;
        }
        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .chapter-item {
            transition: all 0.2s ease;
        }
        .chapter-item:hover {
            background-color: #f3f4f6;
            padding-left: 1.5rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <h1 class="text-4xl font-bold text-gray-800 text-center">
                🎓 Portal Pembelajaran
            </h1>
            <p class="text-gray-600 text-center mt-2">Jelajahi berbagai mata pelajaran dan bab pembelajaran</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- Navigation Tabs -->
        <div class="flex flex-wrap justify-center mb-8 bg-white rounded-lg shadow-md p-2">
            <button onclick="showCategory('all')" class="tab-btn active px-6 py-3 rounded-lg font-medium transition-all duration-200 mx-1 mb-2">
                Semua Mata Pelajaran
            </button>
            <button onclick="showCategory('science')" class="tab-btn px-6 py-3 rounded-lg font-medium transition-all duration-200 mx-1 mb-2">
                Sains & Matematika
            </button>
            <button onclick="showCategory('social')" class="tab-btn px-6 py-3 rounded-lg font-medium transition-all duration-200 mx-1 mb-2">
                Sosial & Bahasa
            </button>
            <button onclick="showCategory('arts')" class="tab-btn px-6 py-3 rounded-lg font-medium transition-all duration-200 mx-1 mb-2">
                Seni & Olahraga
            </button>
        </div>

        <!-- Subjects Grid -->
        <div id="subjects-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Matematika -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-science category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        📊
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Matematika</h3>
                </div>
                <p class="text-gray-600 mb-4">Pelajari konsep matematika dari dasar hingga lanjutan</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Matematika', 'Aljabar')">
                        <span class="font-medium">Bab 1:</span> Aljabar
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Matematika', 'Geometri')">
                        <span class="font-medium">Bab 2:</span> Geometri
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Matematika', 'Statistika')">
                        <span class="font-medium">Bab 3:</span> Statistika
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Matematika', 'Kalkulus')">
                        <span class="font-medium">Bab 4:</span> Kalkulus
                    </div>
                </div>
                <button onclick="startQuiz('Matematika')" class="w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors font-medium">
                    🧮 Mulai Quiz Matematika
                </button>
            </div>

            <!-- Fisika -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-science category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        ⚛️
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Fisika</h3>
                </div>
                <p class="text-gray-600 mb-4">Memahami hukum-hukum alam dan fenomena fisika</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Fisika', 'Mekanika')">
                        <span class="font-medium">Bab 1:</span> Mekanika
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Fisika', 'Termodinamika')">
                        <span class="font-medium">Bab 2:</span> Termodinamika
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Fisika', 'Gelombang & Optik')">
                        <span class="font-medium">Bab 3:</span> Gelombang & Optik
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Fisika', 'Listrik & Magnet')">
                        <span class="font-medium">Bab 4:</span> Listrik & Magnet
                    </div>
                </div>
                <button onclick="startQuiz('Fisika')" class="w-full mt-4 bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-lg transition-colors font-medium">
                    ⚛️ Mulai Quiz Fisika
                </button>
            </div>

            <!-- Kimia -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-science category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        🧪
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Kimia</h3>
                </div>
                <p class="text-gray-600 mb-4">Eksplorasi struktur materi dan reaksi kimia</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Kimia', 'Struktur Atom')">
                        <span class="font-medium">Bab 1:</span> Struktur Atom
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Kimia', 'Ikatan Kimia')">
                        <span class="font-medium">Bab 2:</span> Ikatan Kimia
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Kimia', 'Reaksi Kimia')">
                        <span class="font-medium">Bab 3:</span> Reaksi Kimia
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Kimia', 'Kimia Organik')">
                        <span class="font-medium">Bab 4:</span> Kimia Organik
                    </div>
                </div>
                <button onclick="startQuiz('Kimia')" class="w-full mt-4 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors font-medium">
                    🧪 Mulai Quiz Kimia
                </button>
            </div>

            <!-- Bahasa Indonesia -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-social category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        📚
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Bahasa Indonesia</h3>
                </div>
                <p class="text-gray-600 mb-4">Menguasai bahasa dan sastra Indonesia</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Bahasa Indonesia', 'Teks Narasi')">
                        <span class="font-medium">Bab 1:</span> Teks Narasi
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Bahasa Indonesia', 'Teks Eksposisi')">
                        <span class="font-medium">Bab 2:</span> Teks Eksposisi
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Bahasa Indonesia', 'Puisi & Prosa')">
                        <span class="font-medium">Bab 3:</span> Puisi & Prosa
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Bahasa Indonesia', 'Kaidah Kebahasaan')">
                        <span class="font-medium">Bab 4:</span> Kaidah Kebahasaan
                    </div>
                </div>
            </div>

            <!-- Sejarah -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-social category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        🏛️
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Sejarah</h3>
                </div>
                <p class="text-gray-600 mb-4">Mempelajari peristiwa masa lalu dan perkembangan peradaban</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Sejarah', 'Prasejarah Indonesia')">
                        <span class="font-medium">Bab 1:</span> Prasejarah Indonesia
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Sejarah', 'Kerajaan Nusantara')">
                        <span class="font-medium">Bab 2:</span> Kerajaan Nusantara
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Sejarah', 'Masa Kolonial')">
                        <span class="font-medium">Bab 3:</span> Masa Kolonial
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Sejarah', 'Kemerdekaan Indonesia')">
                        <span class="font-medium">Bab 4:</span> Kemerdekaan Indonesia
                    </div>
                </div>
            </div>

            <!-- Geografi -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-social category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-teal-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        🌍
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Geografi</h3>
                </div>
                <p class="text-gray-600 mb-4">Memahami bumi, lingkungan, dan interaksi manusia</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Geografi', 'Litosfer')">
                        <span class="font-medium">Bab 1:</span> Litosfer
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Geografi', 'Atmosfer')">
                        <span class="font-medium">Bab 2:</span> Atmosfer
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Geografi', 'Hidrosfer')">
                        <span class="font-medium">Bab 3:</span> Hidrosfer
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Geografi', 'Biosfer')">
                        <span class="font-medium">Bab 4:</span> Biosfer
                    </div>
                </div>
            </div>

            <!-- Seni Budaya -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-arts category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-pink-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        🎨
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Seni Budaya</h3>
                </div>
                <p class="text-gray-600 mb-4">Mengeksplorasi seni rupa, musik, dan budaya</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Seni Budaya', 'Seni Rupa')">
                        <span class="font-medium">Bab 1:</span> Seni Rupa
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Seni Budaya', 'Seni Musik')">
                        <span class="font-medium">Bab 2:</span> Seni Musik
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Seni Budaya', 'Seni Tari')">
                        <span class="font-medium">Bab 3:</span> Seni Tari
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Seni Budaya', 'Seni Teater')">
                        <span class="font-medium">Bab 4:</span> Seni Teater
                    </div>
                </div>
            </div>

            <!-- Pendidikan Jasmani -->
            <div class="subject-card bg-white rounded-xl shadow-lg p-6 category-arts category-all">
                <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center text-white text-2xl mr-4">
                        ⚽
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Pendidikan Jasmani</h3>
                </div>
                <p class="text-gray-600 mb-4">Mengembangkan kebugaran dan keterampilan olahraga</p>
                <div class="space-y-2">
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Pendidikan Jasmani', 'Atletik')">
                        <span class="font-medium">Bab 1:</span> Atletik
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Pendidikan Jasmani', 'Permainan Bola Besar')">
                        <span class="font-medium">Bab 2:</span> Permainan Bola Besar
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Pendidikan Jasmani', 'Permainan Bola Kecil')">
                        <span class="font-medium">Bab 3:</span> Permainan Bola Kecil
                    </div>
                    <div class="chapter-item p-3 rounded-lg cursor-pointer" onclick="openChapter('Pendidikan Jasmani', 'Senam & Kebugaran')">
                        <span class="font-medium">Bab 4:</span> Senam & Kebugaran
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal for Chapter Details -->
    <div id="chapterModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 id="modalTitle" class="text-2xl font-bold text-gray-800"></h2>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
            </div>
            <div id="modalContent" class="text-gray-600">
                <!-- Content will be populated by JavaScript -->
            </div>
            <div class="mt-6 flex justify-end">
                <button onclick="closeModal()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors">
                    Tutup
                </button>
            </div>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <h2 id="quizTitle" class="text-2xl font-bold text-gray-800"></h2>
                    <div class="flex items-center mt-2 space-x-4">
                        <span id="questionCounter" class="text-sm text-gray-600"></span>
                        <span id="scoreDisplay" class="text-sm font-medium text-blue-600"></span>
                        <span id="timerDisplay" class="text-sm font-medium text-red-600"></span>
                    </div>
                </div>
                <button onclick="closeQuiz()" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
            </div>
            
            <div id="quizContent">
                <!-- Quiz content will be populated by JavaScript -->
            </div>
            
            <div id="quizResult" class="hidden">
                <div class="text-center py-8">
                    <div id="resultIcon" class="text-6xl mb-4"></div>
                    <h3 id="resultTitle" class="text-2xl font-bold mb-2"></h3>
                    <p id="resultScore" class="text-lg text-gray-600 mb-4"></p>
                    <p id="resultMessage" class="text-gray-600 mb-6"></p>
                    <div class="flex justify-center space-x-4">
                        <button onclick="restartQuiz()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors">
                            Ulangi Quiz
                        </button>
                        <button onclick="closeQuiz()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            Tutup
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab functionality
        function showCategory(category) {
            const cards = document.querySelectorAll('.subject-card');
            const tabs = document.querySelectorAll('.tab-btn');
            
            // Remove active class from all tabs
            tabs.forEach(tab => {
                tab.classList.remove('active', 'bg-blue-500', 'text-white');
                tab.classList.add('text-gray-600', 'hover:bg-gray-100');
            });
            
            // Add active class to clicked tab
            event.target.classList.add('active', 'bg-blue-500', 'text-white');
            event.target.classList.remove('text-gray-600', 'hover:bg-gray-100');
            
            // Show/hide cards based on category
            cards.forEach(card => {
                if (category === 'all' || card.classList.contains(`category-${category}`)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Chapter modal functionality
        function openChapter(subject, chapter) {
            const modal = document.getElementById('chapterModal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('modalContent');
            
            title.textContent = `${subject} - ${chapter}`;
            
            // Sample content for each chapter
            const chapterContent = {
                'Aljabar': 'Mempelajari operasi matematika dengan variabel dan konstanta. Topik meliputi persamaan linear, kuadrat, dan sistem persamaan.',
                'Geometri': 'Memahami bentuk, ukuran, dan sifat ruang. Mencakup bangun datar, bangun ruang, dan teorema geometri.',
                'Mekanika': 'Studi tentang gerak benda dan gaya yang mempengaruhinya. Meliputi kinematika dan dinamika.',
                'Struktur Atom': 'Memahami komponen penyusun atom: proton, neutron, dan elektron serta konfigurasi elektronnya.',
                'Teks Narasi': 'Mempelajari struktur dan ciri-ciri teks yang menceritakan suatu peristiwa secara kronologis.',
                'Prasejarah Indonesia': 'Mengenal kehidupan manusia purba di Indonesia dan peninggalan-peninggalannya.',
                'Litosfer': 'Mempelajari lapisan batuan bumi, proses pembentukan batuan, dan fenomena geologi.',
                'Seni Rupa': 'Mengeksplorasi unsur-unsur seni rupa seperti garis, warna, bentuk, dan komposisi.',
                'Atletik': 'Mempelajari cabang olahraga lari, lompat, dan lempar serta teknik-tekniknya.'
            };
            
            content.innerHTML = `
                <p class="mb-4">${chapterContent[chapter] || 'Konten pembelajaran untuk bab ini sedang dalam pengembangan.'}</p>
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-blue-800 mb-2">Materi yang akan dipelajari:</h4>
                    <ul class="list-disc list-inside text-blue-700 space-y-1">
                        <li>Konsep dasar dan definisi</li>
                        <li>Contoh dan aplikasi</li>
                        <li>Latihan soal</li>
                        <li>Evaluasi pemahaman</li>
                    </ul>
                </div>
            `;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal() {
            const modal = document.getElementById('chapterModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Initialize with all subjects shown
        document.addEventListener('DOMContentLoaded', function() {
            showCategory('all');
        });

        // Close modal when clicking outside
        document.getElementById('chapterModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Quiz functionality
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 0;
        let quizTimer = null;

        const quizData = {
            'Matematika': [
                {
                    question: "Berapakah hasil dari 2x + 3 = 11?",
                    options: ["x = 3", "x = 4", "x = 5", "x = 6"],
                    correct: 1
                },
                {
                    question: "Luas lingkaran dengan jari-jari 7 cm adalah?",
                    options: ["154 cm²", "144 cm²", "164 cm²", "174 cm²"],
                    correct: 0
                },
                {
                    question: "Turunan dari f(x) = x³ adalah?",
                    options: ["3x²", "x²", "3x", "x³"],
                    correct: 0
                },
                {
                    question: "Nilai dari sin 30° adalah?",
                    options: ["1/2", "√3/2", "√2/2", "1"],
                    correct: 0
                },
                {
                    question: "Jika a = 5 dan b = 3, maka a² + b² = ?",
                    options: ["25", "34", "28", "30"],
                    correct: 1
                }
            ],
            'Fisika': [
                {
                    question: "Hukum Newton I menyatakan bahwa?",
                    options: ["F = ma", "Benda diam akan tetap diam", "Aksi = Reaksi", "E = mc²"],
                    correct: 1
                },
                {
                    question: "Kecepatan cahaya dalam vakum adalah?",
                    options: ["3 × 10⁸ m/s", "3 × 10⁶ m/s", "3 × 10⁷ m/s", "3 × 10⁹ m/s"],
                    correct: 0
                },
                {
                    question: "Satuan energi dalam SI adalah?",
                    options: ["Watt", "Joule", "Newton", "Pascal"],
                    correct: 1
                },
                {
                    question: "Rumus energi kinetik adalah?",
                    options: ["mgh", "½mv²", "Pt", "mc²"],
                    correct: 1
                },
                {
                    question: "Frekuensi dan periode memiliki hubungan?",
                    options: ["f = T", "f = 1/T", "f = T²", "f = 2T"],
                    correct: 1
                }
            ],
            'Kimia': [
                {
                    question: "Simbol kimia untuk emas adalah?",
                    options: ["Go", "Au", "Ag", "Al"],
                    correct: 1
                },
                {
                    question: "Jumlah proton dalam atom karbon adalah?",
                    options: ["6", "12", "14", "8"],
                    correct: 0
                },
                {
                    question: "pH air murni pada suhu 25°C adalah?",
                    options: ["6", "7", "8", "9"],
                    correct: 1
                },
                {
                    question: "Rumus kimia air adalah?",
                    options: ["H₂O", "CO₂", "NaCl", "CH₄"],
                    correct: 0
                },
                {
                    question: "Gas mulia yang paling ringan adalah?",
                    options: ["Neon", "Argon", "Helium", "Xenon"],
                    correct: 2
                }
            ]
        };

        function startQuiz(subject) {
            currentQuiz = subject;
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 300; // 5 minutes
            
            document.getElementById('quizTitle').textContent = `Quiz ${subject}`;
            document.getElementById('quizContent').style.display = 'block';
            document.getElementById('quizResult').classList.add('hidden');
            
            const modal = document.getElementById('quizModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            startTimer();
            showQuestion();
        }

        function startTimer() {
            quizTimer = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = 
                    `⏰ ${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(quizTimer);
                    endQuiz();
                }
            }, 1000);
        }

        function showQuestion() {
            const questions = quizData[currentQuiz];
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionCounter').textContent = 
                `Soal ${currentQuestionIndex + 1} dari ${questions.length}`;
            document.getElementById('scoreDisplay').textContent = `Skor: ${score}`;
            
            const content = document.getElementById('quizContent');
            content.innerHTML = `
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-4">${question.question}</h3>
                    <div class="space-y-3">
                        ${question.options.map((option, index) => `
                            <button onclick="selectAnswer(${index})" 
                                    class="w-full text-left p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all">
                                <span class="font-medium">${String.fromCharCode(65 + index)}.</span> ${option}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function selectAnswer(selectedIndex) {
            const questions = quizData[currentQuiz];
            const question = questions[currentQuestionIndex];
            const buttons = document.querySelectorAll('#quizContent button');
            
            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);
            
            // Show correct/incorrect
            buttons.forEach((btn, index) => {
                if (index === question.correct) {
                    btn.classList.add('border-green-500', 'bg-green-100', 'text-green-800');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.add('border-red-500', 'bg-red-100', 'text-red-800');
                }
            });
            
            if (selectedIndex === question.correct) {
                score += 20;
            }
            
            // Next question after delay
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                } else {
                    endQuiz();
                }
            }, 1500);
        }

        function endQuiz() {
            clearInterval(quizTimer);
            
            document.getElementById('quizContent').style.display = 'none';
            document.getElementById('quizResult').classList.remove('hidden');
            
            const totalQuestions = quizData[currentQuiz].length;
            const percentage = Math.round((score / (totalQuestions * 20)) * 100);
            
            let icon, title, message;
            if (percentage >= 80) {
                icon = '🏆';
                title = 'Luar Biasa!';
                message = 'Anda menguasai materi dengan sangat baik!';
            } else if (percentage >= 60) {
                icon = '👍';
                title = 'Bagus!';
                message = 'Pemahaman Anda cukup baik, terus belajar!';
            } else {
                icon = '📚';
                title = 'Perlu Belajar Lagi';
                message = 'Jangan menyerah, terus berlatih untuk hasil yang lebih baik!';
            }
            
            document.getElementById('resultIcon').textContent = icon;
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultScore').textContent = `Skor: ${score}/${totalQuestions * 20} (${percentage}%)`;
            document.getElementById('resultMessage').textContent = message;
        }

        function restartQuiz() {
            startQuiz(currentQuiz);
        }

        function closeQuiz() {
            clearInterval(quizTimer);
            const modal = document.getElementById('quizModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Close quiz modal when clicking outside
        document.getElementById('quizModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeQuiz();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'972946077148ff91',t:'MTc1NTc3MDMyMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
